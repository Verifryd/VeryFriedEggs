import{ShaderMaterial,UniformsUtils}from"three";import{Pass,FullScreenQuad}from"./Pass.js";import{FilmShader}from"../shaders/FilmShader.js";class FilmPass extends Pass{constructor(e,r,s,i){super(),void 0===FilmShader&&console.error("THREE.FilmPass relies on FilmShader");const t=FilmShader;this.uniforms=UniformsUtils.clone(t.uniforms),this.material=new ShaderMaterial({uniforms:this.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader}),void 0!==i&&(this.uniforms.grayscale.value=i),void 0!==e&&(this.uniforms.nIntensity.value=e),void 0!==r&&(this.uniforms.sIntensity.value=r),void 0!==s&&(this.uniforms.sCount.value=s),this.fsQuad=new FullScreenQuad(this.material)}render(e,r,s,i){this.uniforms.tDiffuse.value=s.texture,this.uniforms.time.value+=i,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(r),this.clear&&e.clear(),this.fsQuad.render(e))}}export{FilmPass};